(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{69:function(t,a,s){"use strict";s.r(a);var n=s(0),e=Object(n.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"content"},[s("h1",{attrs:{id:"指定"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#指定","aria-hidden":"true"}},[t._v("#")]),t._v(" 指定")]),s("h2",{attrs:{id:"概念及语法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#概念及语法","aria-hidden":"true"}},[t._v("#")]),t._v(" 概念及语法")]),s("p",[t._v("指令 (Directives) 是带有 "),s("code",[t._v("v-")]),t._v(" 前缀的特殊属性。指令属性的值预期是"),s("strong",[t._v("单个 JavaScript 表达式")]),t._v("("),s("code",[t._v("v-for")]),t._v(" 是例外情况，稍后我们再讨论)。指令的职责是，当表达式的值改变时，将其产生的连带影响，响应式地作用于 DOM。")]),s("p",[t._v("例如 "),s("code",[t._v("v-if")]),t._v(" 指令：")]),s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("p")]),t._v(" "),s("span",{attrs:{class:"token attr-name"}},[t._v("v-if")]),s("span",{attrs:{class:"token attr-value"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("seen"),s("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("现在你看到我了"),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("p")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),s("p",[t._v("这里，"),s("code",[t._v("v-if")]),t._v(" 指令将根据表达式 "),s("code",[t._v("seen")]),t._v(" 的值的真假来插入/移除 "),s("code",[t._v("<p>")]),t._v(" 元素。")]),s("h3",{attrs:{id:"指令参数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#指令参数","aria-hidden":"true"}},[t._v("#")]),t._v(" 指令参数")]),s("p",[t._v("一些指令能够接收一个“参数”，在指令名称之后以冒号表示。例如，"),s("code",[t._v("v-bind")]),t._v(" 指令可以用于响应式地更新 HTML 属性：")]),s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("a")]),t._v(" "),s("span",{attrs:{class:"token attr-name"}},[s("span",{attrs:{class:"token namespace"}},[t._v("v-bind:")]),t._v("href")]),s("span",{attrs:{class:"token attr-value"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("url"),s("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("..."),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("a")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),s("p",[t._v("在这里 "),s("code",[t._v("href")]),t._v(" 是参数，告知 "),s("code",[t._v("v-bind")]),t._v(" 指令将该元素的 "),s("code",[t._v("href")]),t._v(" 属性与表达式 "),s("code",[t._v("url")]),t._v(" 的值绑定。")]),s("p",[t._v("另一个例子是 "),s("code",[t._v("v-on")]),t._v(" 指令，它用于监听 DOM 事件：")]),s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("a")]),t._v(" "),s("span",{attrs:{class:"token attr-name"}},[s("span",{attrs:{class:"token namespace"}},[t._v("v-on:")]),t._v("click")]),s("span",{attrs:{class:"token attr-value"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("doSomething"),s("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("..."),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("a")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),s("p",[t._v("在这里参数是监听的事件名。我们也会更详细地讨论事件处理。")]),s("h3",{attrs:{id:"指令修饰符"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#指令修饰符","aria-hidden":"true"}},[t._v("#")]),t._v(" 指令修饰符")]),s("p",[t._v("一些指令还可以添加指令修饰符，修饰符 (Modifiers) 是以半角句号 "),s("code",[t._v(".")]),t._v(" 指明的特殊后缀，用于指出一个指令应该以特殊方式绑定。例如，"),s("code",[t._v(".prevent")]),t._v(" 修饰符告诉 "),s("code",[t._v("v-on")]),t._v(" 指令对于触发的事件调用 "),s("code",[t._v("event.preventDefault()")]),t._v("：")]),s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("form")]),t._v(" "),s("span",{attrs:{class:"token attr-name"}},[s("span",{attrs:{class:"token namespace"}},[t._v("v-on:")]),t._v("submit.prevent")]),s("span",{attrs:{class:"token attr-value"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("onSubmit"),s("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("..."),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("form")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),s("p",[t._v("在接下来对 "),s("a",{attrs:{href:"https://cn.vuejs.org/v2/guide/events.html#%E4%BA%8B%E4%BB%B6%E4%BF%AE%E9%A5%B0%E7%AC%A6",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("v-on")])]),t._v(" 和 "),s("a",{attrs:{href:"https://cn.vuejs.org/v2/guide/forms.html#%E4%BF%AE%E9%A5%B0%E7%AC%A6",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("v-for")])]),t._v(" 等功能的探索中，你会看到修饰符的其它例子。")]),s("h3",{attrs:{id:"指令缩写"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#指令缩写","aria-hidden":"true"}},[t._v("#")]),t._v(" 指令缩写")]),s("p",[s("code",[t._v("v-")]),t._v(" 前缀作为一种视觉提示，用来识别模板中 Vue 特定的特性。当你在使用 Vue.js 为现有标签添加动态行为 (dynamic behavior) 时，"),s("code",[t._v("v-")]),t._v(" 前缀很有帮助，然而，对于一些频繁用到的指令来说，就会感到使用繁琐。同时，在构建由 Vue.js 管理所有模板的"),s("a",{attrs:{href:"https://en.wikipedia.org/wiki/Single-page_application",target:"_blank",rel:"noopener noreferrer"}},[t._v("单页面应用程序 (SPA - single page application)")]),t._v(" 时，"),s("code",[t._v("v-")]),t._v(" 前缀也变得没那么重要了。因此，Vue.js 为 "),s("code",[t._v("v-bind")]),t._v(" 和 "),s("code",[t._v("v-on")]),t._v(" 这两个最常用的指令，提供了特定简写：")]),s("p",[s("code",[t._v("v-bind")]),t._v(" 缩写：")]),s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{attrs:{class:"token comment"}},[t._v("\x3c!-- 完整语法 --\x3e")]),t._v("\n"),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("a")]),t._v(" "),s("span",{attrs:{class:"token attr-name"}},[s("span",{attrs:{class:"token namespace"}},[t._v("v-bind:")]),t._v("href")]),s("span",{attrs:{class:"token attr-value"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("url"),s("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("..."),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("a")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n"),s("span",{attrs:{class:"token comment"}},[t._v("\x3c!-- 缩写 --\x3e")]),t._v("\n"),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("a")]),t._v(" "),s("span",{attrs:{class:"token attr-name"}},[t._v(":href")]),s("span",{attrs:{class:"token attr-value"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("url"),s("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("..."),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("a")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),s("p",[s("code",[t._v("v-on")]),t._v(" 缩写：")]),s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{attrs:{class:"token comment"}},[t._v("\x3c!-- 完整语法 --\x3e")]),t._v("\n"),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("a")]),t._v(" "),s("span",{attrs:{class:"token attr-name"}},[s("span",{attrs:{class:"token namespace"}},[t._v("v-on:")]),t._v("click")]),s("span",{attrs:{class:"token attr-value"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("doSomething"),s("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("..."),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("a")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n"),s("span",{attrs:{class:"token comment"}},[t._v("\x3c!-- 缩写 --\x3e")]),t._v("\n"),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("a")]),t._v(" "),s("span",{attrs:{class:"token attr-name"}},[t._v("@click")]),s("span",{attrs:{class:"token attr-value"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("doSomething"),s("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("..."),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("a")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),s("h2",{attrs:{id:"系统内置指令"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#系统内置指令","aria-hidden":"true"}},[t._v("#")]),t._v(" 系统内置指令")]),s("h3",{attrs:{id:"v-text"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#v-text","aria-hidden":"true"}},[t._v("#")]),t._v(" v-text")]),s("h3",{attrs:{id:"v-html"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#v-html","aria-hidden":"true"}},[t._v("#")]),t._v(" v-html")]),s("h3",{attrs:{id:"v-show"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#v-show","aria-hidden":"true"}},[t._v("#")]),t._v(" v-show")]),s("h3",{attrs:{id:"v-if"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#v-if","aria-hidden":"true"}},[t._v("#")]),t._v(" v-if")]),s("h3",{attrs:{id:"v-else"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#v-else","aria-hidden":"true"}},[t._v("#")]),t._v(" v-else")]),s("h3",{attrs:{id:"v-else-if"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#v-else-if","aria-hidden":"true"}},[t._v("#")]),t._v(" v-else-if")]),s("h3",{attrs:{id:"v-for"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#v-for","aria-hidden":"true"}},[t._v("#")]),t._v(" v-for")]),s("h3",{attrs:{id:"v-on"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#v-on","aria-hidden":"true"}},[t._v("#")]),t._v(" v-on")]),s("h3",{attrs:{id:"v-bind"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#v-bind","aria-hidden":"true"}},[t._v("#")]),t._v(" v-bind")]),s("h3",{attrs:{id:"v-model"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#v-model","aria-hidden":"true"}},[t._v("#")]),t._v(" v-model")]),s("h3",{attrs:{id:"v-pre"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#v-pre","aria-hidden":"true"}},[t._v("#")]),t._v(" v-pre")]),s("h3",{attrs:{id:"v-cloak"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#v-cloak","aria-hidden":"true"}},[t._v("#")]),t._v(" v-cloak")]),s("h3",{attrs:{id:"总结"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#总结","aria-hidden":"true"}},[t._v("#")]),t._v(" 总结")]),s("ul",[s("li",[s("a",{attrs:{href:"https://cn.vuejs.org/v2/api/#v-text",target:"_blank",rel:"noopener noreferrer"}},[t._v("v-text")]),s("ul",[s("li",[t._v("和 "),s("code",[t._v("{{}}")]),t._v(" 一样的，唯一的区别是")]),s("li",[s("code",[t._v("{{}}")]),t._v(" 会造成闪烁问题")]),s("li",[s("code",[t._v("v-text")]),t._v(" 不会有闪烁问题")]),s("li",[t._v("如果还想用 "),s("code",[t._v("{{}}")]),t._v(" 又不想有闪烁问题，则使用 "),s("code",[t._v("v-cloak")]),t._v(" 来处理")])])]),s("li",[s("a",{attrs:{href:"https://cn.vuejs.org/v2/api/#v-html",target:"_blank",rel:"noopener noreferrer"}},[t._v("v-html")])]),s("li",[s("a",{attrs:{href:"https://cn.vuejs.org/v2/api/#v-show",target:"_blank",rel:"noopener noreferrer"}},[t._v("v-show")]),s("ul",[s("li",[t._v("条件显示和隐藏")]),s("li",[t._v("无论真假，都会渲染显示在 DOM 结构中")]),s("li",[t._v("条件为真，则让 display 显示")]),s("li",[t._v("条件为假，则 display 不显示")]),s("li",[t._v("如果需要频繁的切换显示和隐藏，则使用 v-show")])])]),s("li",[s("a",{attrs:{href:"https://cn.vuejs.org/v2/api/#v-if",target:"_blank",rel:"noopener noreferrer"}},[t._v("v-if")]),s("ul",[s("li",[t._v("真正的条件渲染")]),s("li",[t._v("条件为真，则渲染这个 DOM")]),s("li",[t._v("条件为假，则移除不渲染这个 DOM")]),s("li",[t._v("如果只是一次显示或隐藏，则建议 v-if")]),s("li",[t._v("v-if 和 v-show\n"),s("ul",[s("li",[t._v("一般来说，"),s("code",[t._v("v-if")]),t._v(" 有更高的切换开销，而 "),s("code",[t._v("v-show")]),t._v(" 有更高的初始渲染开销。因此，如果需要非常频繁地切换，则使用 "),s("code",[t._v("v-show")]),t._v(" 较好；如果在运行时条件很少改变，则使用 "),s("code",[t._v("v-if")]),t._v(" 较好。")])])])])]),s("li",[s("a",{attrs:{href:"https://cn.vuejs.org/v2/api/#v-else",target:"_blank",rel:"noopener noreferrer"}},[t._v("v-else")])]),s("li",[s("a",{attrs:{href:"https://cn.vuejs.org/v2/api/#v-else-if",target:"_blank",rel:"noopener noreferrer"}},[t._v("v-else-if")])]),s("li",[s("a",{attrs:{href:"https://cn.vuejs.org/v2/api/#v-for",target:"_blank",rel:"noopener noreferrer"}},[t._v("v-for")])]),s("li",[s("a",{attrs:{href:"https://cn.vuejs.org/v2/api/#v-on",target:"_blank",rel:"noopener noreferrer"}},[t._v("v-on")])]),s("li",[s("a",{attrs:{href:"https://cn.vuejs.org/v2/api/#v-bind",target:"_blank",rel:"noopener noreferrer"}},[t._v("v-bind")])]),s("li",[s("a",{attrs:{href:"https://cn.vuejs.org/v2/api/#v-model",target:"_blank",rel:"noopener noreferrer"}},[t._v("v-model")])]),s("li",[s("a",{attrs:{href:"https://cn.vuejs.org/v2/api/#v-pre",target:"_blank",rel:"noopener noreferrer"}},[t._v("v-pre")])]),s("li",[s("a",{attrs:{href:"https://cn.vuejs.org/v2/api/#v-cloak",target:"_blank",rel:"noopener noreferrer"}},[t._v("v-cloak")]),s("ul",[s("li",[t._v("如果还想用 "),s("code",[t._v("{{}}")]),t._v(" 又不想有闪烁问题，则使用 "),s("code",[t._v("v-cloak")]),t._v(" 来处理")]),s("li",[t._v("在头部加一个特殊的样式："),s("code",[t._v("[v-cloak] {display: none;}")])]),s("li",[t._v("然后在被 Vue 管理的模板入口节点上作用 "),s("code",[t._v("v-cloak")]),t._v(" 指令")]),s("li",[t._v("原理：默认一开始被 Vue 管理的模板是隐藏着的，当 Vue 解析处理完 DOM 模板之后，会自动把这个样式去除，然后就显示出来")])])]),s("li",[s("a",{attrs:{href:"https://cn.vuejs.org/v2/api/#v-once",target:"_blank",rel:"noopener noreferrer"}},[t._v("v-once")])])]),s("h2",{attrs:{id:"自定义指令"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#自定义指令","aria-hidden":"true"}},[t._v("#")]),t._v(" 自定义指令")]),s("p",[t._v("在 Vue 中除了核心功能默认内置的指令 (例如 "),s("code",[t._v("v-model")]),t._v(" 和 "),s("code",[t._v("v-show")]),t._v(")，Vue 也允许注册自定义指令。")]),s("blockquote",[s("p",[t._v("有的情况下，我们仍然需要对普通 DOM 元素进行底层操作，这时候就会用到自定义指令。")])]),s("h3",{attrs:{id:"语法：注册及使用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#语法：注册及使用","aria-hidden":"true"}},[t._v("#")]),t._v(" 语法：注册及使用")]),s("p",[t._v("举个让输入框自动聚焦的例子，如下。")]),s("p",[t._v("全局注册：")]),s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{attrs:{class:"token comment"}},[t._v("// 注册一个全局自定义指令 `v-focus`")]),t._v("\nVue"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("directive")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v("'focus'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{attrs:{class:"token comment"}},[t._v("// 当被绑定的元素插入到 DOM 中时……")]),t._v("\n  inserted"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("el"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{attrs:{class:"token comment"}},[t._v("// 聚焦元素")]),t._v("\n    el"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("focus")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),s("p",[t._v("也可以局部注册：")]),s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("directives"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  focus"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{attrs:{class:"token comment"}},[t._v("// 指令的定义")]),t._v("\n    inserted"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("el"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      el"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("focus")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),s("p",[t._v("使用：")]),s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{attrs:{class:"token comment"}},[t._v("\x3c!-- 当页面加载时，该元素将获得焦点 --\x3e")]),t._v("\n"),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("input")]),t._v(" "),s("span",{attrs:{class:"token attr-name"}},[t._v("v-focus")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),s("p",[t._v("注意事项：")]),s("ul",[s("li",[t._v("在模板中使用自定义指令必须加上 "),s("code",[t._v("v-")]),t._v(" 前缀")]),s("li",[t._v("对于驼峰命名法的自定义指令，在使用的时候使用 "),s("code",[t._v("-")]),t._v(" 连接即可。")]),s("li",[t._v("全局注册的自定义指令可以在任何组件中使用。")]),s("li",[t._v("组件内注册的自定义指令只能在被该组件管理的模板中使用。")])]),s("h3",{attrs:{id:"钩子函数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#钩子函数","aria-hidden":"true"}},[t._v("#")]),t._v(" 钩子函数")]),s("p",[t._v("一个指令定义对象可以提供如下几个钩子函数 (均为可选)：")]),s("ul",[s("li",[s("code",[t._v("bind")]),t._v("：只调用一次，指令第一次绑定到元素时调用。在这里可以进行一次性的初始化设置。")]),s("li",[s("code",[t._v("inserted")]),t._v("：被绑定元素插入父节点时调用 (仅保证父节点存在，但不一定已被插入文档中)。")]),s("li",[s("code",[t._v("update")]),t._v("：所在组件的 VNode 更新时调用，"),s("strong",[t._v("但是可能发生在其子 VNode 更新之前")]),t._v("。指令的值可能发生了改变，也可能没有。但是你可以通过比较更新前后的值来忽略不必要的模板更新 (详细的钩子函数参数见下)。")]),s("li",[s("code",[t._v("componentUpdated")]),t._v("：指令所在组件的 VNode "),s("strong",[t._v("及其子 VNode")]),t._v(" 全部更新后调用。")]),s("li",[s("code",[t._v("unbind")]),t._v("：只调用一次，指令与元素解绑时调用。")])]),s("p",[t._v("下面我们用一个例子来验证文档中的描述：")]),s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),s("span",{attrs:{class:"token attr-name"}},[t._v("id")]),s("span",{attrs:{class:"token attr-value"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("app"),s("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("input")]),t._v(" "),s("span",{attrs:{class:"token attr-name"}},[t._v("type")]),s("span",{attrs:{class:"token attr-value"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("checkbox"),s("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{attrs:{class:"token attr-name"}},[t._v("v-model")]),s("span",{attrs:{class:"token attr-value"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("seen"),s("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("h1")]),t._v(" "),s("span",{attrs:{class:"token attr-name"}},[t._v("v-if")]),s("span",{attrs:{class:"token attr-value"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("seen"),s("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{attrs:{class:"token attr-name"}},[t._v("v-demo")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("{{ message }}"),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("h1")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("input")]),t._v(" "),s("span",{attrs:{class:"token attr-name"}},[t._v("type")]),s("span",{attrs:{class:"token attr-value"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("text"),s("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{attrs:{class:"token attr-name"}},[t._v("v-model")]),s("span",{attrs:{class:"token attr-value"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("message"),s("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("Vue"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("directive")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v("'demo'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{attrs:{class:"token function"}},[t._v("bind")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("el"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" binding"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("log")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v("'binding'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" el"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("parentNode"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token comment"}},[t._v("// null")]),t._v("\n  "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  inserted"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("el"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("log")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v("'inserted'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" el"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("parentNode"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token comment"}},[t._v('// <div id="app">...</div>')]),t._v("\n  "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{attrs:{class:"token function"}},[t._v("update")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("el"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" binding"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("log")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v("'update'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" el"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("innerHTML"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token comment"}},[t._v("// 'Hello Vue.js!'")]),t._v("\n  "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{attrs:{class:"token function"}},[t._v("componentUpdated")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("el"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" binding"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("log")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v("'componentUpdated'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" el"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("innerHTML"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token comment"}},[t._v("// 'Hello'")]),t._v("\n  "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{attrs:{class:"token function"}},[t._v("unbind")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("el"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" binding"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("log")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v("'unbind'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{attrs:{class:"token class-name"}},[t._v("Vue")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  el"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v("'#app'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  data"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    seen"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token boolean"}},[t._v("true")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    message"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v("'Hello Vue.js!'")]),t._v("\n  "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),s("p",[t._v("总结：")]),s("ul",[s("li",[t._v("bind 时父节点为 null，inserted 时父节点存在")]),s("li",[t._v("update 和 componentUpdated 就是更新前和更新后的区别")]),s("li",[t._v("unbind 可以做一些收尾工作，例如清除定时器")]),s("li",[t._v("​文档说的没错 😂")])]),s("h3",{attrs:{id:"钩子函数参数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#钩子函数参数","aria-hidden":"true"}},[t._v("#")]),t._v(" 钩子函数参数")]),s("p",[t._v("指令钩子函数会被传入以下参数：")]),s("ul",[s("li",[s("code",[t._v("el")]),t._v("：指令所绑定的元素，可以用来直接操作 DOM 。")]),s("li",[s("code",[t._v("binding")]),t._v(" 一个对象，包含以下属性：\n"),s("ul",[s("li",[s("code",[t._v("name")]),t._v("：指令名，不包括 "),s("code",[t._v("v-")]),t._v(" 前缀。")]),s("li",[s("code",[t._v("value")]),t._v("：指令的绑定值，例如："),s("code",[t._v('v-my-directive="1 + 1"')]),t._v(" 中，绑定值为 "),s("code",[t._v("2")]),t._v("。")]),s("li",[s("code",[t._v("oldValue")]),t._v("：指令绑定的前一个值，仅在 "),s("code",[t._v("update")]),t._v(" 和 "),s("code",[t._v("componentUpdated")]),t._v(" 钩子中可用。无论值是否改变都可用。")]),s("li",[s("code",[t._v("expression")]),t._v("：字符串形式的指令表达式。例如 "),s("code",[t._v('v-my-directive="1 + 1"')]),t._v(" 中，表达式为 "),s("code",[t._v('"1 + 1"')]),t._v("。")]),s("li",[s("code",[t._v("arg")]),t._v("：传给指令的参数，可选。例如 "),s("code",[t._v("v-my-directive:foo")]),t._v(" 中，参数为 "),s("code",[t._v('"foo"')]),t._v("。")]),s("li",[s("code",[t._v("modifiers")]),t._v("：一个包含修饰符的对象。例如："),s("code",[t._v("v-my-directive.foo.bar")]),t._v(" 中，修饰符对象为 "),s("code",[t._v("{ foo: true, bar: true }")]),t._v("。")])])]),s("li",[s("code",[t._v("vnode")]),t._v("：Vue 编译生成的虚拟节点。移步 "),s("a",{attrs:{href:"https://cn.vuejs.org/v2/api/#VNode-%E6%8E%A5%E5%8F%A3",target:"_blank",rel:"noopener noreferrer"}},[t._v("VNode API")]),t._v(" 来了解更多详情。")]),s("li",[s("code",[t._v("oldVnode")]),t._v("：上一个虚拟节点，仅在 "),s("code",[t._v("update")]),t._v(" 和 "),s("code",[t._v("componentUpdated")]),t._v(" 钩子中可用。")])]),s("p",[t._v("!> 除了 "),s("code",[t._v("el")]),t._v(" 之外，其它参数都应该是只读的，切勿进行修改。如果需要在钩子之间共享数据，建议通过元素的 "),s("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/HTMLElement/dataset",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("dataset")])]),t._v(" 来进行。")]),s("p",[t._v("这是一个使用了这些属性的自定义钩子样例：")]),s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),s("span",{attrs:{class:"token attr-name"}},[t._v("id")]),s("span",{attrs:{class:"token attr-value"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("hook-arguments-example"),s("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{attrs:{class:"token attr-name"}},[s("span",{attrs:{class:"token namespace"}},[t._v("v-demo:")]),t._v("foo.a.b")]),s("span",{attrs:{class:"token attr-value"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("message"),s("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("Vue"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("directive")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v("'demo'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  bind"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("el"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" binding"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" vnode"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" s "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token constant"}},[t._v("JSON")]),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("stringify\n    el"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("innerHTML "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v("\n      "),s("span",{attrs:{class:"token string"}},[t._v("'name: '")]),t._v("       "),s("span",{attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{attrs:{class:"token function"}},[t._v("s")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("binding"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v("'<br>'")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("+")]),t._v("\n      "),s("span",{attrs:{class:"token string"}},[t._v("'value: '")]),t._v("      "),s("span",{attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{attrs:{class:"token function"}},[t._v("s")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("binding"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v("'<br>'")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("+")]),t._v("\n      "),s("span",{attrs:{class:"token string"}},[t._v("'expression: '")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{attrs:{class:"token function"}},[t._v("s")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("binding"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("expression"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v("'<br>'")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("+")]),t._v("\n      "),s("span",{attrs:{class:"token string"}},[t._v("'argument: '")]),t._v("   "),s("span",{attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{attrs:{class:"token function"}},[t._v("s")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("binding"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("arg"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v("'<br>'")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("+")]),t._v("\n      "),s("span",{attrs:{class:"token string"}},[t._v("'modifiers: '")]),t._v("  "),s("span",{attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{attrs:{class:"token function"}},[t._v("s")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("binding"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("modifiers"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v("'<br>'")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("+")]),t._v("\n      "),s("span",{attrs:{class:"token string"}},[t._v("'vnode keys: '")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("+")]),t._v(" Object"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("keys")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("vnode"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("join")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v("', '")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{attrs:{class:"token class-name"}},[t._v("Vue")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  el"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v("'#hook-arguments-example'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  data"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    message"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v("'hello!'")]),t._v("\n  "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('name: "demo"\nvalue: "hello!"\nexpression: "message"\nargument: "foo"\nmodifiers: {"a":true,"b":true}\nvnode keys: tag, data, children, text, elm, ns, context, fnContext, fnOptions, fnScopeId, key, componentOptions, componentInstance, parent, raw, isStatic, isRootInsert, isComment, isCloned, isOnce, asyncFactory, asyncMeta, isAsyncPlaceholder\n')])]),s("h3",{attrs:{id:"函数简写"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#函数简写","aria-hidden":"true"}},[t._v("#")]),t._v(" 函数简写")]),s("p",[t._v("在很多时候，你可能想在 "),s("code",[t._v("bind")]),t._v(" 和 "),s("code",[t._v("update")]),t._v(" 时触发相同行为，而不关心其它的钩子。比如这样写:")]),s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("Vue"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("directive")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v("'color-swatch'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("el"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" binding"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  el"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("style"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("backgroundColor "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" binding"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),s("h3",{attrs:{id:"对象字面量"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#对象字面量","aria-hidden":"true"}},[t._v("#")]),t._v(" 对象字面量")]),s("p",[t._v("如果指令需要多个值，可以传入一个 JavaScript 对象字面量。记住，指令函数能够接受所有合法的 JavaScript 表达式。")]),s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),s("span",{attrs:{class:"token attr-name"}},[t._v("v-demo")]),s("span",{attrs:{class:"token attr-value"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("{ color: "),s("span",{attrs:{class:"token punctuation"}},[t._v("'")]),t._v("white"),s("span",{attrs:{class:"token punctuation"}},[t._v("'")]),t._v(", text: "),s("span",{attrs:{class:"token punctuation"}},[t._v("'")]),t._v("hello!"),s("span",{attrs:{class:"token punctuation"}},[t._v("'")]),t._v(" }"),s("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("Vue"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("directive")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v("'demo'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("el"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" binding"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("log")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("binding"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("color"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token comment"}},[t._v('// => "white"')]),t._v("\n  console"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("log")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("binding"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("text"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  "),s("span",{attrs:{class:"token comment"}},[t._v('// => "hello!"')]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),s("h3",{attrs:{id:"自定义指令强化"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#自定义指令强化","aria-hidden":"true"}},[t._v("#")]),t._v(" 自定义指令强化")]),s("ul",[s("li",[t._v("模拟实现一些内置的系统指令")])])])}],!1,null,null,null);a.default=e.exports}}]);